
## 관련 질문
<details>
  <summary>(지원) 인덱스의 역할과 장단점</summary>
  <blockquote>
    (현수) 인덱스는 데이터를 빠르게 찾을 수 있게 해주는 장치이다. 특정 데이터를 조회할 때 모든 행을 다 찾아야 한다는 불편함이 있는데 인덱스는 B 트리 구조로 돼있기 때문에 속도가 빠르다. 하지만 필드의 사본을 만들어서 DB에 저장하기 때문에 추가적인 용량을 차지한다는 단점이 있다.
  </blockquote>   
  <br/>
  <blockquote>
    (주현) 인덱스는 전체 테이블을 전부 검색하는 것이 아닌 인덱스를 통해 찾고자 하는 자료에 접근하는 장치, 정렬 상태를 유지하기 때문에 빠르게 검색할 수 있지만 릴레이션의 값의 변경이나 삭제와 같은 갱신 상황이 발생할 경우, 쿼리문을 작성할 때 응답속도가 저하될 수 있다는 단점이 있다. 
  </blockquote>     
</details>

## 인덱스

인덱스로 사용할 칼럼을 복사하여 사본을 만들고 정렬하여 빠르게 데이터를 찾을 수 있게 하는 것이다.

### B-트리

인덱스의 기본적인 자료구조이다. 루트, 브랜치, 리프 노드로 이루어져 있고 맨 위 루트부터 탐색을 시작하여 브랜치 노드를 거쳐 리프 노드로 내려온다. 
트리 깊이가 브랜치 노드 수에 비해 매우 느리게 성장하기 때문에 인덱스가 효율적이다.

### 인덱스 만드는 방법

- **MySQL**
    - 클리스터형 인덱스와 세컨더리 인덱스가 있다.
    - 기본키로 설정하면 클리스터형 인덱스가 되고, 기본키로 만들지 않고 unique not null 옵션을 붙여 만들 수도 있다.
    - 세컨더리 인덱스는 여러 개의 필드 값을 기반으로 쿼리를 보낼 때 필요하며, 이런 경우가 아니라면 성능 면에서 굳이 생성하지 않는 것이 좋다.

- **MongoDB**
    - 도큐먼트를 만들면 자동으로 ObjectID가 생성되며 이 키가 기본키가 된다.

### 인덱스 최적화 기법

1. 인덱스는 인덱스 리스트와 컬렉션 즉, 두 번 탐색하기 때문에 비용이 든다. 또한 테이블이 수정되면 인덱스도 수정해야 하는데 B-트리를 수정시 많은 비용이 들기 때문에 인덱스를 무작정 설정하면 안 된다.

2. 항상 테스트를 통해 걸리는 시간을 최소화해야 한다.

3. 복합 인덱스를 사용할 땐 ==이라는 쿼리가 있는 필드를 제일 먼저, 그 후 정렬에 쓰는 필드를, > 등의 다중 값을 출력해야 하는 필드, 마지막으로 카디널리티(유니크함)가 높은 필드를 우선으로 생성해야 한다.