# ERD와 정규화
- ERD(Entity Relationship Diagram)
- DB구축의 뼈대. 릴레이션 간의 관계를 정의

## 정규화
- 릴레이션간 종속관계가 잘못되었을때 DB이상이 일어나 해결하는것
> - 에디터베이스 이상현상: 말그대로 DB에 이상이 발생하는것
> 하나의 회원이 하나의 등급만 가져야할떄 여러개가 들어가거나, null이 들어가면 안되는데 null이 들어가는 등
- 저장공간을 효율적으로 사용하기 위해 릴레이션을 여러개로 나누는 것
- '정규형 원칙'을 기반으로 정규형을 만들어가는 과정
- 기본 정규형으로 제1정규형, 제2정규형, 제3정규형, 보이스/코드 정규형이 있음.
- 고급 정규형으로 제4정규형, 제5정규형이 있음.

### 정규형원칙
- 같은 릴레이션이라도 더 좋은 구조로 만들어야하는것
- 중복성이 낮아야함.
- 독립적인 관계는 별개의 릴레이션으로 분리해야함.
- 각각의 릴레이션은 독립적인 표현이 가능해야함.

### 제1정규형
- 더이상분해될수 없는 원자성을 가지는것
- a의 속성중 {1, 2, 3}이 있다면
- a - 1, a - 2, a - 3 이런식으로 3개의 레코드로 분리되는것

### 제2정규형
- 제1정규형이여하며, 부분함수의 종속성의 제거한 형태
> - 부분함수 종속성: 기본키가 아닌 모든 속성이 기본키에 완전함수종속적임.(무슨말인지 모르겠음)

### 제3정규형
- 제2정규형이며, 모든속성이 이행적함수종속을 만족하지 않음.
> - 이행적함수 종속(transitive FD): A -> B, B -> C 이면 A -> C임. 이때 C는 A에 이행적 함수종속되어있음.
- {유저, 등급, 할인율} 테이블이 있다고 했을때 할인율은 등급에 따라 정해지므로 등급에 종속됨
- 따라서 {유저, 등급}, {등급, 할인율} 으로 분리하는 것

### 보이스/코드 정규형(BCNF)
- 제3정규형이며, 결정자가 후보키가 아닌 함수종속관계를 제거하여 릴레이션의 함수 종속관계에서 모든 결정자가 후보키인 상태
> - 결정자 : 함수 종속 관계에서 종속자를 결정짓는 요소
> - X -> Y 에서 X가 결정자, Y가 종속자임.
