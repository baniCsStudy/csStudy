
## 관련 질문
<details>
  <summary>내부조인과 외부조인에 대해서 간단하게 설명해주세요.</summary>
  <blockquote>
    내부 조인은 두 테이블에서 교집합을 구하듯, 공통된 키를 기준으로 일치하는(겹치는) 데이터만 반환하는 조인 방식입니다. 이 방식에서는 두 테이블의 조인 조건을 만족하는 행들만 결과 집합에 포함됩니다. 반면, 외부 조인은 두 테이블에서 일치하는 데이터뿐만 아니라, 일치하지 않는 데이터도 포함하여 반환하는 조인 방식입니다.
  </blockquote>
</details>
<br/>

<br/><br/>

## 4.6. 조인의 종류

- **내부 조인 (Inner Join)**
  - 두 테이블의 일치하는 데이터만 반환
  - 공통된 키를 기준으로 일치하는 데이터만 추출
  - 두 테이블에서 공통 데이터를 찾을 때 사용

- **왼쪽 조인 (Left Join)**
  - 왼쪽 테이블의 모든 데이터와 오른쪽 테이블의 일치하는 데이터를 반환
  - 일치하지 않는 오른쪽 테이블의 데이터는 NULL로 반환
  - 왼쪽 테이블의 데이터를 기준으로 오른쪽 테이블 데이터를 병합할 때 사용

- **오른쪽 조인 (Right Join)**
  - 오른쪽 테이블의 모든 데이터와 왼쪽 테이블의 일치하는 데이터를 반환
  - 일치하지 않는 왼쪽 테이블의 데이터는 NULL로 반환
  - 오른쪽 테이블의 데이터를 기준으로 왼쪽 테이블 데이터를 병합할 때 사용

- **합집합 조인 (Full Outer Join)**
  - 두 테이블의 모든 데이터를 반환하며, 일치하지 않는 데이터는 NULL로 표시
  - 두 테이블에서 일치하는 모든 데이터와 일치하지 않는 데이터 모두 반환
  - 두 테이블의 모든 데이터를 포함하여 분석할 때 사용

## 4.7. 조인의 원리

 ### 중첩 루프 조인 (Nested Loop Join)
  - 두 테이블 간의 조인 연산을 수행하기 위해 이중 반복문을 사용. 외부 반복문은 한 테이블의 각 행을 순차적으로 선택하고, 내부 반복문은 다른 테이블의 모든 행을 순차적으로 탐색하여 조건에 맞는 행을 찾음.
  - 작은 데이터셋의 조인 or 복잡한 조인 조건이나 비등가 조인(Non-equi Join)을 처리할 때 유리
  - 단순하지만 비효율적일 수 있으며, 두 테이블이 모두 큰 경우엔 성능 문제 발생 가능성!
  
  - 성능 향상 기법
    1. 인덱스 사용: 인덱스가 있는 경우, 내부 반복문에서 인덱스를 활용하여 검색 성능을 개선 가능. 이를 인덱스 중첩 루프 조인(Index Nested Loop Join)이라고 함.
    2. 블록 중첩 루프 조인(Block Nested Loop Join): 테이블을 블록 단위로 나누어 메모리에 적재하고 처리하여 캐시 효율성을 높이는 방법.
    3. 배치 중첩 루프 조인(Batched Nested Loop Join): 배치 단위로 데이터를 처리하여 I/O 성능을 향상시킴.

  - **복잡도**: O(m*n) (m과 n은 각각 두 테이블의 행 수)

 ### 정렬 병합 조인 (Sort-Merge Join)
  - 두 테이블을 조인 키로 정렬한 후, 각각의 첫 번째 행부터 시작하여 병합 과정을 진행. 조인 키가 일치하면 결과에 추가하고, 일치하지 않으면 작은 키 쪽의 다음 행으로 이동함.
  - 대규모 데이터셋의 정렬된 데이터 조인, 데이터 웨어하우스 환경에서 대규모 배치 작업에 유리
  - 조인 키가 정렬된 상태여야 하며, 정렬 비용이 발생
  - 조인 조건이 등가 조인(Equality Join)에 적합함
  - 조인 키로 정렬된 대규모 데이터셋을 조인할 때 사용

  - 성능 향상 기법
    1. 미리 정렬된 데이터 사용: 테이블이 이미 조인 키로 정렬되어 있는 경우, 정렬 과정을 생략하여 성능을 개선할 수 있음
    2. 정렬 방법 최적화: 효율적인 정렬 알고리즘을 사용하여 정렬 시간을 단축할 수 있습니다.

  - **복잡도**: O(m log m + n log n + m + n)

 ### 해시 조인 (Hash Join)
  - 작은 테이블을 해시 테이블로 변환한 후, 큰 테이블의 각 행을 해시 테이블과 매칭. 해시 테이블은 조인 키를 기준으로 해시 버킷에 데이터를 저장함.
  - 메모리가 충분한 환경에서 대규모 데이터셋 조인, 데이터베이스 시스템에서 인덱스가 없거나, 인덱스를 사용하는 조인이 비효율적일 때 유용함.
  - 등가 조인(Equality Join)에 적합함.
  - 해시 테이블을 구축하는 초기 비용이 발생하지만, 탐색 속도는 매우 빠름
  - 메모리 사용량을 관리할 수 있는 환경에서 대규모 데이터셋을 조인할 때 사용

  - 성능 향상 기법
    1. 메모리 최적화: 해시 테이블의 크기가 메모리에 적합하도록 최적화하여 성능을 개선할 수 있음
    2. 해시 함수 선택: 적절한 해시 함수를 선택하여 충돌을 최소화하고 검색 성능을 향상시킴
    3. 파티셔닝: 테이블을 파티셔닝하여 병렬로 해시 조인을 수행하면 성능을 크게 향상시킬 수 있음

  - **복잡도**: O(m + n)